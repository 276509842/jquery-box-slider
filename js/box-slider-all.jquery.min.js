(function(i,f,p){var h={},q=!0,n={},s={speed:800,timeout:5E3,autoScroll:!1,pauseOnHover:!1,effect:"scrollVert3d",perspective:1E3};i.jqBoxSlider=h;h.init=function(a){var b=f.extend({},s,a),c=h.slideAnimator(b.effect);return this.each(function(){var a=f(this),g=a.children(),e=f.extend({},b);a.data("bssettings",e);e.slideAnimator=c;e.slideAnimator.initialize(a,g,e);t(a,e);if(e.autoScroll&&(e.autointv=setInterval(function(){j(a)},e.timeout+e.speed),e.pauseOnHover))a.on("hover",l)})};h.playPause=function(){return this.each(function(){l.call(f(this))})};
h.showSlide=function(a){a=parseInt(a,10);return this.each(function(){var b=f(this);o(b);j(b,a)})};h.registerAnimator=function(a,b){f.each(a.split(","),function(c,a){n[a]=b});b._cacheOriginalCSS=u;"function"===typeof b.configure&&b.configure(q,v)};h.slideAnimator=function(a){if("object"===typeof n[a])return n[a];throw Error("The slide animator for the "+a+" effect has not been registered");};h.option=function(a,b){return"undefined"===typeof b?(this.data("bssettings")||{})[a]:this.each(function(){var c=
f(this),d=c.data("bssettings")||{};d[a]=b;o(c,d);"effect"===a?(d.slideAnimator.destroy(c,d),d.slideAnimator=h.slideAnimator(b),d._slideFilter=null,d.bsfaceindex=0,d.slideAnimator.initialize(c,c.children(),d)):"function"===typeof d.slideAnimator.reset&&d.slideAnimator.reset(c,d)})};h.destroy=function(){return this.each(function(){var a=f(this),b=(a.data()||{}).bssettings;b&&"object"===typeof b.slideAnimator&&(b.autointv&&clearInterval(b.autointv),b.slideAnimator.destroy(a,b))})};var t=function(a,b){var c=
f();null!=b.next&&(c=c.add(f(b.next).on("click",{reverse:!1},r)));null!=b.prev&&(c=c.add(f(b.prev).on("click",{reverse:!0},r)));null!=b.pause&&(c=c.add(f(b.pause).on("click",w)));c.data("bsbox",a)},r=function(a){var b=f(this).data("bsbox");o(b);j(b,p,a.data.reverse);a.preventDefault()},w=function(a){var b=f(this),c=b.data("bsbox");l.call(c);b.toggleClass("paused");a.preventDefault()},l=function(a,b,c){var d=f(this);c||(c=d.data("bssettings"));if(null!=c.autointv||b)if(c.autointv=clearInterval(c.autointv),
!b)return;c.autointv=setInterval(function(){j(d)},c.timeout+c.speed)},j=function(a,b,c){var d=a.data("bssettings"),g=a.children(),e,k,m,h;null!=d._slideFilter&&(g="function"===typeof d._slideFilter?g.filter(function(b){return d._slideFilter.call(g,b,d)}):g.filter(d.slideFilter));e=d.bsfaceindex||0;k=x(e,g.length,c,b);a.hasClass("jbs-in-motion")||-1===k||(m=g.eq(e),h=g.eq(k),a.addClass("jbs-in-motion"),"function"===typeof d.onbefore&&d.onbefore.call(a,m,h,e,k),f.extend(d,d.slideAnimator.transition(f.extend({$box:a,
$slides:g,$currSlide:m,$nextSlide:h,reverse:c,currIndex:e,nextIndex:k},d))),setTimeout(function(){a.removeClass("jbs-in-motion");"function"===typeof d.onafter&&d.onafter.call(a,m,h,e,k)},d.speed),d.bsfaceindex=k)},o=function(a,b){b||(b=a.data("bssettings")||{});b.autoScroll&&l.call(a,p,!0,b)},x=function(a,b,c,d){null==d&&(d=c?0>a-1?b-1:a-1:a+1<b?a+1:0);return d===a||d>=b||0>d?-1:d},u=function(a,b,c,d){d="position top left display overflow width height".split(" ").concat(d||[]);c.origCSS||(c.origCSS=
{});c.origCSS[b]||(c.origCSS[b]={});f.each(d,function(g,e){c.origCSS[b][e]=a.css(e)})},v=function(){var a=document.body.style,b="";"webkitTransition"in a&&(b="-webkit-");"MozTransition"in a&&(b="-moz-");q="webkitPerspective"in a||"MozPerspective"in a||"perspective"in a;return b}();f.fn.boxSlider=function(a){return"string"===typeof a&&"function"===typeof h[a]?h[a].apply(this,Array.prototype.slice.call(arguments,1)):h.init.apply(this,arguments)};i.jqBoxSlider.registerAnimator("fade",function(){var a=
{initialize:function(b,c,d){a._cacheOriginalCSS(b,"box",d);a._cacheOriginalCSS(c,"slides",d);-1!=="static inherit".indexOf(b.css("position"))&&b.css("position","relative");b.css({height:c.eq(0).height(),overflow:"hidden"});c.css({position:"absolute",top:0,left:0}).filter(":gt(0)").hide()},transition:function(b){b.$nextSlide.fadeIn(b.speed);b.$currSlide.fadeOut(b.speed)},destroy:function(b,c){b.children().css(c.origCSS.slides);b.css(c.origCSS.box)}};return a}());i.jqBoxSlider.registerAnimator("scrollVert,scrollHorz",
function(){var a={initialize:function(b,c,d){var g=b.width(),e=c.eq(0).height();a._cacheOriginalCSS(b,"box",d);a._cacheOriginalCSS(c,"slides",d);-1!=="static inherit".indexOf(b.css("position"))&&b.css("position","relative");b.css({height:e,overflow:"hidden"});c.css({position:"absolute",top:0,left:0,width:g,height:e}).filter(":gt(0)").hide()},transition:function(b){var c=b.$box,a=b.reverse,g={},e={};"scrollVert"===b.effect?(e.top=(a?c.height():-c.height())+"px",g.top=-parseInt(e.top,10)+"px",c={top:"0px"}):
(e.left=(a?c.width():-c.width())+"px",g.left=-parseInt(e.left,10)+"px",c={left:"0px"});b.$nextSlide.css(f.extend(e,{display:"block"})).animate(c,b.speed);b.$currSlide.animate(g,b.speed)},destroy:function(b,c){b.children().css(c.origCSS.slides);b.css(c.origCSS.box)}};return a}());i.jqBoxSlider.registerAnimator("scrollVert,scrollHorz",function(){var a={initialize:function(b,c,d){var g=b.width(),e=c.eq(0).height();a._cacheOriginalCSS(b,"box",d);a._cacheOriginalCSS(c,"slides",d);-1!=="static inherit".indexOf(b.css("position"))&&
b.css("position","relative");b.css({height:e,overflow:"hidden"});c.css({position:"absolute",top:0,left:0,width:g,height:e}).filter(":gt(0)").hide()},transition:function(b){var c=b.$box,a=b.reverse,g={},e={};"scrollVert"===b.effect?(e.top=(a?c.height():-c.height())+"px",g.top=-parseInt(e.top,10)+"px",c={top:"0px"}):(e.left=(a?c.width():-c.width())+"px",g.left=-parseInt(e.left,10)+"px",c={left:"0px"});b.$nextSlide.css(f.extend(e,{display:"block"})).animate(c,b.speed);b.$currSlide.animate(g,b.speed)},
destroy:function(b,a){b.children().css(a.origCSS.slides);b.css(a.origCSS.box)}};return a}());i.jqBoxSlider.registerAnimator("scrollVert3d,scrollHorz3d",function(){var a={},b=!1,c="";a.configure=function(a,e){b=a;c=e};a.initialize=function(g,e,d){var f=g.parent(),h=f.innerWidth(),i=f.innerHeight(),j={position:"absolute",top:0,left:0,width:h,height:i};a._cacheOriginalCSS(g,"box",d,[c+"transform",c+"transition",c+"transform-style"]);a._cacheOriginalCSS(e,"slides",d,[c+"transform"]);a._cacheOriginalCSS(e,
"viewport",d,[c+"perspective"]);e.css(j);g.css(j);-1!=="static inherit".indexOf(f.css("position"))&&f.css("position","relative");b?(d.translateZ="scrollVert3d"===d.effect?i/2:h/2,d.bsangle=0,f.css(c+"perspective",d.perspective),f.css("overflow","visible"),g.css(c+"transform-style","preserve-3d"),g.css(c+"transform","translate3d(0, 0, -"+d.translateZ+"px)"),e.eq(0).css(c+"transform","rotate3d(0, 1, 0, 0deg) translate3d(0, 0, "+d.translateZ+"px)"),setTimeout(function(){a.reset(g,d)},10)):e.filter(":gt(0)").hide()};
a.reset=function(b,a){b.css(c+"transition",c+"transform "+(a.speed/1E3+"s"))};a.transition=function(a){var e=a.bsangle+(a.reverse?90:-90),f="scrollVert3d"===a.effect;if(b)return 0===e&&(e=a.reverse?360:-360),a.$currSlide.css("z-index",1),a.$slides.filter(function(b){return a.currIndex!==b}).css(c+"transform","none").css("display","none"),a.$nextSlide.css(c+"transform",d(e,f)+" translate3d(0, 0,"+a.translateZ+"px)").css({display:"block",zIndex:2}),a.$box.css(c+"transform","translate3d(0, 0, -"+a.translateZ+
"px) rotate3d("+(f?"1, 0, 0, ":"0, 1, 0, ")+e+"deg)"),360===Math.abs(e)&&(a.$box.css(c+"transform","translate3d(0, 0, -"+a.translateZ+"px)"),e=0),{bsangle:e};a.$slides.filter(function(b){return a.currIndex!==b}).hide();a.$currSlide.fadeOut(a.speed);a.$nextSlide.fadeIn(a.speed)};a.destroy=function(a,b){var c=a.children(),d=a.parent();b.origCSS&&(a.css(b.origCSS.box),c.css(b.origCSS.slides),d.css(b.origCSS.viewport),delete b.bsangle,delete b.translateZ)};var d=function(a,b){switch(a){case 360:case -360:return"rotate3d(0, 1, 0, 0deg)";
case 90:case -270:return"rotate3d("+(b?"1, 0, 0,":"0, 1, 0,")+" -90deg)";case 180:case -180:return"rotate3d("+(b?"1, 0, 0,":"0, 1, 0,")+" 180deg)";case 270:case -90:return"rotate3d("+(b?"1, 0, 0,":"0, 1, 0,")+" 90deg)"}};return a}())})(window,jQuery||Zepto);
