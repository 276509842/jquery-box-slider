(function(j,f,o){var g={},p=!0,k={},r={speed:800,timeout:5E3,autoScroll:!1,pauseOnHover:!1,effect:"scrollVert3d",perspective:1E3};j.jqBoxSlider=g;g.init=function(a){var b=f.extend({},r,a),c=g.slideAnimator(b.effect);return this.each(function(){var a=f(this),i=a.children(),e=f.extend({},b);a.data("bssettings",e);e.slideAnimator=c;e.slideAnimator.initialize(a,i,e);s(a,e);if(e.autoScroll&&(e.autointv=setInterval(function(){l(a)},e.timeout+e.speed),e.pauseOnHover))a.on("hover",m)})};g.playPause=function(){return this.each(function(){m.call(f(this))})};
g.showSlide=function(a){a=parseInt(a,10);return this.each(function(){var b=f(this);n(b);l(b,a)})};g.registerAnimator=function(a,b){k[a]=b;k[a]._cacheOriginalCSS=t;"function"===typeof b.configure&&b.configure(p,u)};g.slideAnimator=function(a){if("object"===typeof k[a])return k[a];throw Error("The slide animator for the "+a+" effect has not been registered");};g.option=function(a,b){return"undefined"===typeof b?(this.data("bssettings")||{})[a]:this.each(function(){var c=f(this),d=c.data("bssettings")||
{};d[a]=b;n(c,d);"effect"===a?(d.slideAnimator.destroy(c,d),d.slideAnimator=g.slideAnimator(b),d.bsfaceindex=0,d.slideAnimator.initialize(c,c.children(),d)):"function"===typeof d.slideAnimator.reset&&d.slideAnimator.reset(c,d)})};g.destroy=function(){return this.each(function(){var a=f(this),b=(a.data()||{}).bssettings;b&&"object"===typeof b.slideAnimator&&(b.autointv&&clearInterval(b.autointv),b.slideAnimator.destroy(a,b))})};var s=function(a,b){var c=f();null!=b.next&&(c=c.add(f(b.next).on("click",
{reverse:!1},q)));null!=b.prev&&(c=c.add(f(b.prev).on("click",{reverse:!0},q)));null!=b.pause&&(c=c.add(f(b.pause).on("click",v)));c.data("bsbox",a)},q=function(a){var b=f(this).data("bsbox");n(b);l(b,o,a.data.reverse);a.preventDefault()},v=function(a){var b=f(this),c=b.data("bsbox");m.call(c);b.toggleClass("paused");a.preventDefault()},m=function(a,b,c){var d=f(this);c||(c=d.data("bssettings"));if(null!=c.autointv||b)if(c.autointv=clearInterval(c.autointv),!b)return;c.autointv=setInterval(function(){l(d)},
c.timeout+c.speed)},l=function(a,b,c){var d=a.data("bssettings"),i=a.children(),e=d.bsfaceindex||0,b=w(e,i.length,c,b),h,g;a.hasClass("jbs-in-motion")||-1===b||(h=i.eq(e),g=i.eq(b),a.addClass("jbs-in-motion"),"function"===typeof d.onbefore&&d.onbefore.call(a,h,g),f.extend(d,d.slideAnimator.transition(f.extend({$box:a,$slides:i,$currSlide:h,$nextSlide:g,reverse:c,currIndex:e,nextIndex:b},d))),setTimeout(function(){a.removeClass("jbs-in-motion");"function"===typeof d.onafter&&d.onafter.call(a,h,g)},
d.speed),d.bsfaceindex=b)},n=function(a,b){b||(b=a.data("bssettings")||{});b.autoscroll&&toggleplaypause.call(a,o,!0,b)},w=function(a,b,c,d){null==d&&(d=c?0>a-1?b-1:a-1:a+1<b?a+1:0);return d===a||d>=b||0>d?-1:d},t=function(a,b,c,d){d="position top left display overflow width height".split(" ").concat(d||[]);c.origCSS||(c.origCSS={});c.origCSS[b]||(c.origCSS[b]={});f.each(d,function(d,e){c.origCSS[b][e]=a.css(e)})},u=function(){var a=document.body.style,b="";"webkitTransition"in a&&(b="-webkit-");
"MozTransition"in a&&(b="-moz-");p="webkitPerspective"in a||"MozPerspective"in a||"perspective"in a;return b}();f.fn.boxSlider=function(a){return"string"===typeof a&&"function"===typeof g[a]?g[a].apply(this,Array.prototype.slice.call(arguments,1)):g.init.apply(this,arguments)};j.jqBoxSlider.registerAnimator("fade",function(){var a={initialize:function(b,c,d){a._cacheOriginalCSS(b,"box",d);a._cacheOriginalCSS(c,"slides",d);-1!=="static inherit".indexOf(b.css("position"))&&b.css("position","relative");
b.css({height:c.eq(0).height(),overflow:"hidden"});c.css({position:"absolute",top:0,left:0}).filter(":gt(0)").hide()},transition:function(a){a.$nextSlide.fadeIn(a.speed);a.$currSlide.fadeOut(a.speed)},destroy:function(a,c){a.children().css(c.origCSS.slides);a.css(c.origCSS.box)}};return a}());j.jqBoxSlider.registerAnimator("scrollVert",function(){var a={},b=0;a.initialize=function(c,d,i){var e=c.width(),h=b=d.eq(0).height();a._cacheOriginalCSS(c,"box",i);a._cacheOriginalCSS(d,"slides",i);-1!=="static inherit".indexOf(c.css("position"))&&
c.css("position","relative");c.css({height:b,overflow:"hidden"});d.css({position:"absolute",top:0,left:0,width:e,height:h}).filter(":gt(0)").hide()};a.transition=function(a){a.$nextSlide.css({top:(a.reverse?b:-b)+"px",display:"block"}).animate({top:"0px"},a.speed);a.$currSlide.animate({top:(a.reverse?-b:b)+"px"},a.speed)};a.destroy=function(a,b){a.children().css(b.origCSS.slides);a.css(b.origCSS.box)};return a}());j.jqBoxSlider.registerAnimator("scrollVert3d",function(){var a={},b=!1,c="";a.configure=
function(a,d){b=a;c=d};a.initialize=function(d,e,h){var f=d.parent(),g=f.innerWidth(),j=f.innerHeight(),g={position:"absolute",top:0,left:0,width:g,height:j};a._cacheOriginalCSS(d,"box",h,[c+"transform",c+"transition",c+"transform-style"]);a._cacheOriginalCSS(e,"slides",h,[c+"transform"]);a._cacheOriginalCSS(e,"viewport",h,[c+"perspective"]);e.css(g);d.css(g);-1!=="static inherit".indexOf(f.css("position"))&&f.css("position","relative");b?(h.translateZ=j/2,h.bsangle=0,f.css(c+"perspective",h.perspective),
f.css("overflow","visible"),d.css(c+"transform-style","preserve-3d"),d.css(c+"transform","translate3d(0, 0, -"+h.translateZ+"px)"),e.eq(0).css(c+"transform","rotate3d(0, 1, 0, 0deg) translate3d(0, 0, "+h.translateZ+"px)"),setTimeout(function(){a.reset(d,h)},10)):e.filter(":gt(0)").hide()};a.reset=function(a,b){a.css(c+"transition",c+"transform "+(b.speed/1E3+"s"))};a.transition=function(a){var e=a.bsangle+(a.reverse?90:-90);if(b)return 0===e&&(e=a.reverse?360:-360),a.$slides.filter(function(b){return a.currIndex!==
b}).css(c+"transform","none").css("display","none"),a.$nextSlide.css(c+"transform",d(e)+" translate3d(0, 0,"+a.translateZ+"px)").css("display","block"),a.$box.css(c+"transform","translate3d(0, 0, -"+a.translateZ+"px) rotate3d(1, 0, 0, "+e+"deg)"),360===Math.abs(e)&&(a.$box.css(c+"transform","translate3d(0, 0, -"+a.translateZ+"px)"),e=0),{bsangle:e};a.$slides.filter(function(b){return a.currIndex!==b}).hide();a.$currSlide.fadeOut(a.speed);a.$nextSlide.fadeIn(a.speed)};a.destroy=function(a,b){var c=
a.children(),d=a.parent();b.origCSS&&(a.css(b.origCSS.box),c.css(b.origCSS.slides),d.css(b.origCSS.viewport),delete b.bsangle,delete b.translateZ)};var d=function(a){switch(a){case 360:case -360:return"rotate3d(0, 1, 0, 0deg)";case 90:case -270:return"rotate3d(1, 0, 0, -90deg)";case 180:case -180:return"rotate3d(1, 0, 0, 180deg)";case 270:case -90:return"rotate3d(1, 0, 0, 90deg)"}};return a}())})(window,jQuery||Zepto);